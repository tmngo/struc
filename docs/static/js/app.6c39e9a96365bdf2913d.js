webpackJsonp([1],{"4JYb":function(e,t){},"4szX":function(e,t){},"500C":function(e,t){},"5NYy":function(e,t){},"5myX":function(e,t){},A8Rc:function(e,t){},CgLR:function(e,t){},EDLW:function(e,t){},NHnr:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=n("7+uW"),i=n("2QDH"),a=n.n(i),r=n("woOf"),o=n.n(r),c=n("mvHQ"),l=n.n(c),u=n("pFYg"),d=n.n(u),m=n("QttI"),h=n.n(m),f={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"form-check form-check-inline"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.object[e.setting],expression:"object[setting]"}],staticClass:"form-check-input",attrs:{type:"checkbox",id:e.id},domProps:{checked:Array.isArray(e.object[e.setting])?e._i(e.object[e.setting],null)>-1:e.object[e.setting]},on:{change:function(t){var n=e.object[e.setting],s=t.target,i=!!s.checked;if(Array.isArray(n)){var a=e._i(n,null);s.checked?a<0&&e.$set(e.object,e.setting,n.concat([null])):a>-1&&e.$set(e.object,e.setting,n.slice(0,a).concat(n.slice(a+1)))}else e.$set(e.object,e.setting,i)}}}),e._v(" "),n("label",{staticClass:"form-check-label",attrs:{for:e.id}},[e._v(e._s(e.label))])])},staticRenderFns:[]};var v={name:"CanvasSettings",components:{InputCheckbox:n("VU/8")({name:"InputCheckbox",props:["object","setting","label"],computed:{id:function(){return"checkbox-"+this.setting.toLowerCase()}}},f,!1,function(e){n("llE5")},"data-v-822fe028",null).exports},props:["config"]},p={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"canvas-settings-container"}},[n("transition",{attrs:{name:"slide-fade"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.config.display,expression:"config.display"}],attrs:{id:"canvas-settings"}},[n("div",[n("div",[e._v("Zoom (scroll canvas)")]),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model.number",value:e.config.scale,expression:"config.scale",modifiers:{number:!0}}],staticClass:"form-control form-control-sm",staticStyle:{width:"50%"},attrs:{type:"number",min:"0",max:e.config.scaleMax,step:"0.001"},domProps:{value:e.config.scale},on:{input:function(t){t.target.composing||e.$set(e.config,"scale",e._n(t.target.value))},blur:function(t){e.$forceUpdate()}}})]),e._v(" "),n("div",{staticStyle:{"grid-column":"span 2"}},[n("input",{directives:[{name:"model",rawName:"v-model.number",value:e.config.scale,expression:"config.scale",modifiers:{number:!0}}],staticClass:"form-control-range",attrs:{type:"range",min:e.config.scaleMin,max:e.config.scaleMax,step:"0.001"},domProps:{value:e.config.scale},on:{__r:function(t){e.$set(e.config,"scale",e._n(t.target.value))},blur:function(t){e.$forceUpdate()}}})]),e._v(" "),n("div",[e._v("Origin offset (drag canvas)")]),e._v(" "),n("div",[n("input",{directives:[{name:"model",rawName:"v-model.number",value:e.config.x,expression:"config.x",modifiers:{number:!0}}],staticClass:"form-control-range",attrs:{type:"range",min:"0",max:e.config.canvasW},domProps:{value:e.config.x},on:{__r:function(t){e.$set(e.config,"x",e._n(t.target.value))},blur:function(t){e.$forceUpdate()}}})]),e._v(" "),n("div",[n("input",{directives:[{name:"model",rawName:"v-model.number",value:e.config.y,expression:"config.y",modifiers:{number:!0}}],staticClass:"form-control-range",staticStyle:{direction:"rtl"},attrs:{type:"range",min:"0",max:e.config.canvasH},domProps:{value:e.config.y},on:{__r:function(t){e.$set(e.config,"y",e._n(t.target.value))},blur:function(t){e.$forceUpdate()}}})]),e._v(" "),n("div",[n("div",[e._v("Signifiicant figures (1-9)")]),e._v(" "),n("div",{staticStyle:{width:"70%"}},[n("input",{directives:[{name:"model",rawName:"v-model.number",value:e.config.significantFigures,expression:"config.significantFigures",modifiers:{number:!0}}],staticClass:"form-control form-control-sm",attrs:{type:"number",min:"1",max:"9"},domProps:{value:e.config.significantFigures},on:{input:function(t){t.target.composing||e.$set(e.config,"significantFigures",e._n(t.target.value))},blur:function(t){e.$forceUpdate()}}})])]),e._v(" "),n("div",[n("div",[e._v("Diagram scale")]),e._v(" "),n("div",{staticStyle:{width:"70%"}},[n("input",{directives:[{name:"model",rawName:"v-model.number",value:e.config.diagramScale,expression:"config.diagramScale",modifiers:{number:!0}}],staticClass:"form-control form-control-sm",attrs:{type:"number",step:"0.1"},domProps:{value:e.config.diagramScale},on:{input:function(t){t.target.composing||e.$set(e.config,"diagramScale",e._n(t.target.value))},blur:function(t){e.$forceUpdate()}}})])]),e._v(" "),n("input-checkbox",{staticStyle:{"grid-column-start":"1"},attrs:{object:e.config,setting:"nodeLabels",label:"Node labels"}}),e._v(" "),n("input-checkbox",{attrs:{object:e.config,setting:"appliedForces",label:"Nodal loads"}}),e._v(" "),n("input-checkbox",{attrs:{object:e.config,setting:"elementLoads",label:"Distributed loads"}}),e._v(" "),n("input-checkbox",{attrs:{object:e.config,setting:"supports",label:"Supports"}}),e._v(" "),n("input-checkbox",{attrs:{object:e.config,setting:"elementForces",label:"Axial forces"}}),e._v(" "),n("input-checkbox",{attrs:{object:e.config,setting:"reactions",label:"Reactions"}}),e._v(" "),n("input-checkbox",{attrs:{object:e.config,setting:"displacements",label:"Displacements"}}),e._v(" "),n("input-checkbox",{attrs:{object:e.config,setting:"shearDiagrams",label:"Shear diagrams"}}),e._v(" "),n("input-checkbox",{attrs:{object:e.config,setting:"momentDiagrams",label:"Moment diagrams"}}),e._v(" "),n("input-checkbox",{attrs:{object:e.config,setting:"diagramValues",label:"Values on diagram"}}),e._v(" "),n("input-checkbox",{attrs:{object:e.config,setting:"axes",label:"Axes"}}),e._v(" "),n("div",{staticClass:"input-group input-group-sm",staticStyle:{width:"70%","grid-column-start":"1"}},[n("div",{staticClass:"input-group-prepend"},[n("button",{staticClass:"btn btn-outline-light",attrs:{type:"button"},on:{click:function(t){e.$emit("loaded")}}},[e._v("Load")])]),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.config.loadValue,expression:"config.loadValue"}],staticClass:"form-control form-control-sm",attrs:{type:"text"},domProps:{value:e.config.loadValue},on:{input:function(t){t.target.composing||e.$set(e.config,"loadValue",t.target.value)}}})]),e._v(" "),n("div",{staticClass:"input-group input-group-sm",staticStyle:{width:"70%"}},[n("div",{staticClass:"input-group-prepend"},[n("button",{staticClass:"btn btn-outline-light",attrs:{type:"button"},on:{click:function(t){e.$emit("saved")}}},[e._v("Save")])]),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.config.saveValue,expression:"config.saveValue"}],staticClass:"form-control form-control-sm",attrs:{type:"text"},domProps:{value:e.config.saveValue},on:{input:function(t){t.target.composing||e.$set(e.config,"saveValue",t.target.value)}}})]),e._v(" "),n("div",[e._v("Copy/paste strings to load/save structures.")])],1)]),e._v(" "),n("div",{attrs:{id:"canvas-header"}},[n("div",[e._v("Canvas")]),e._v(" "),n("button",{staticClass:"btn btn-outline-dark",on:{click:function(t){e.config.display=!e.config.display}}},[e._v("⚙")])])],1)},staticRenderFns:[]};var g=n("VU/8")(v,p,!1,function(e){n("4szX")},"data-v-3a7ea6c1",null).exports,w={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"list-container"},[n("div",{staticClass:"list-header"},[n("div",{staticClass:"list-heading",staticStyle:{"grid-column":"span 9"}},[n("div",[e._v(e._s(e.heading)+" ("+e._s(e.array.length)+") ")]),e._v(" "),n("button",{staticClass:"btn btn-outline-dark",staticStyle:{"margin-left":"0.5rem"},on:{click:function(t){e.$emit("expand")}}},[n("i",{staticClass:"icon-unfold-more"})]),e._v(" "),n("button",{staticClass:"btn btn-outline-dark",on:{click:function(t){e.$emit("collapse")}}},[n("i",{staticClass:"icon-unfold-less"})])]),e._v(" "),e._t("header")],2),e._v(" "),n("transition-group",{staticClass:"table-list",attrs:{name:"list",tag:"ul"}},[e._t("default")],2)],1)},staticRenderFns:[]};var x=n("VU/8")({name:"TableArray",props:["heading","array"]},w,!1,function(e){n("EDLW")},"data-v-0cb9590c",null).exports,y={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"table-dark row-submission"},[n("input",{directives:[{name:"model",rawName:"v-model.number",value:e.newNodeX,expression:"newNodeX",modifiers:{number:!0}}],staticClass:"cell cell-input form-control form-control-sm",staticStyle:{"grid-column":"2 / 5"},attrs:{type:"text",placeholder:"X",oninput:"this.value = this.value.replace(/[^0-9.-]/g, '').replace(/(\\\\..*)\\\\./g, '$1')"},domProps:{value:e.newNodeX},on:{input:function(t){t.target.composing||(e.newNodeX=e._n(t.target.value))},blur:function(t){e.$forceUpdate()}}}),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model.number",value:e.newNodeY,expression:"newNodeY",modifiers:{number:!0}}],staticClass:"cell cell-input form-control form-control-sm",attrs:{type:"text",placeholder:"Y",oninput:"this.value = this.value.replace(/[^0-9.-]/g, '').replace(/(\\\\..*)\\\\./g, '$1')"},domProps:{value:e.newNodeY},on:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.submitNode(t):null},input:function(t){t.target.composing||(e.newNodeY=e._n(t.target.value))},blur:function(t){e.$forceUpdate()}}}),e._v(" "),n("div",{staticClass:"cell-button"},[n("button",{staticClass:"btn btn-outline-success submit",attrs:{type:"button"},on:{click:e.submitNode}},[e._m(0)])])])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("b",[t("i",{staticClass:"icon-add"})])}]};var b=n("VU/8")({name:"NodeRowAdd",props:["nodes"],data:function(){return{newNodeX:"",newNodeY:""}},methods:{submitNode:function(){this.$emit("submit",{x:""===this.newNodeX?0:this.newNodeX,y:""===this.newNodeY?0:this.newNodeY}),this.newNodeX="",this.newNodeY=""}}},y,!1,function(e){n("500C")},"data-v-73b5bac9",null).exports,S={name:"InputNumber",props:{node:Object,inputValue:String,step:{type:Number,default:1}},data:function(){return{showSpinner:!1,timeout:null,interval:null}},computed:{hasSlotData:function(){return this.$slots.default}},methods:{increment:function(e){var t=this;this.node[this.inputValue]+=e,this.timeout=setTimeout(function(){t.interval=setInterval(function(){t.node[t.inputValue]+=e},25)},250)},clearTiming:function(){clearTimeout(this.timeout),clearInterval(this.interval)}}},N={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"input-group input-group-sm",on:{mouseover:function(t){e.showSpinner=!0},mouseleave:function(t){e.showSpinner=!1}}},[e.hasSlotData?n("div",{staticClass:"input-group-prepend"},[e._t("default")],2):e._e(),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model.number",value:e.node[e.inputValue],expression:"node[inputValue]",modifiers:{number:!0}}],staticClass:"cell-input form-control form-control-sm",attrs:{type:"number",step:"any"},domProps:{value:e.node[e.inputValue]},on:{input:function(t){t.target.composing||e.$set(e.node,e.inputValue,e._n(t.target.value))},blur:function(t){e.$forceUpdate()}}}),e._v(" "),e.showSpinner?n("div",{staticClass:"input-group-append btn-spinner"},[n("button",{staticClass:"btn btn-outline-secondary",attrs:{type:"button",tabindex:"-1"},on:{mousedown:function(t){e.increment(e.step)},mouseup:e.clearTiming,mouseleave:e.clearTiming,touchstart:function(t){e.increment(e.step)},touchend:e.clearTiming}},[e._v("▵")]),e._v(" "),n("button",{staticClass:"btn btn-outline-secondary",attrs:{type:"button",tabindex:"-1"},on:{mousedown:function(t){e.increment(-e.step)},mouseup:e.clearTiming,mouseleave:e.clearTiming,touchstart:function(t){e.increment(-e.step)},touchend:e.clearTiming}},[e._v("▿")])]):e._e()])},staticRenderFns:[]};var E=n("VU/8")(S,N,!1,function(e){n("5NYy")},"data-v-076b5714",null).exports,C={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"input-group-text"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.model[e.val],expression:"model[val]"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.model[e.val])?e._i(e.model[e.val],null)>-1:e.model[e.val]},on:{change:function(t){var n=e.model[e.val],s=t.target,i=!!s.checked;if(Array.isArray(n)){var a=e._i(n,null);s.checked?a<0&&e.$set(e.model,e.val,n.concat([null])):a>-1&&e.$set(e.model,e.val,n.slice(0,a).concat(n.slice(a+1)))}else e.$set(e.model,e.val,i)}}})])},staticRenderFns:[]};var F={name:"NodeRow",components:{InputNumber:E,InputNumberCheckbox:n("VU/8")({name:"InputNumberCheckbox",props:["model","val"]},C,!1,function(e){n("A8Rc")},"data-v-7e048b55",null).exports},props:["node","nodes"],data:function(){return{showOptions:!1}}},D={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("li",{staticClass:"list-item",on:{mouseenter:function(t){e.node.active=!0},mouseleave:function(t){e.node.active=!1}}},[n("div",{staticClass:"node-row"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.node.n,expression:"node.n"}],staticClass:"cell-input form-control form-control-sm form-control-plaintext",attrs:{type:"text"},domProps:{value:e.node.n},on:{input:function(t){t.target.composing||e.$set(e.node,"n",t.target.value)}}}),e._v(" "),n("input-number",{staticClass:"cell",attrs:{node:e.node,"input-value":"x"}}),e._v(" "),n("input-number",{staticClass:"cell",attrs:{node:e.node,"input-value":"y"}}),e._v(" "),n("div",{staticClass:"cell-button"},[n("button",{staticClass:"btn btn-outline-secondary options",attrs:{type:"button"},on:{click:function(t){e.showOptions=!e.showOptions}}},[n("i",{class:{"icon-expand-more":!e.showOptions,"icon-expand-less":e.showOptions}})]),e._v(" "),n("button",{staticClass:"btn btn-outline-danger delete",attrs:{type:"button"},on:{click:function(t){e.$emit("remove")}}},[n("i",{staticClass:"icon-close"})])])],1),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:e.showOptions,expression:"showOptions"}],staticClass:"node-row"},[n("input-number",{staticClass:"cell row-options",attrs:{node:e.node,"input-value":"qx"}},[n("input-number-checkbox",{staticStyle:{"background-color":"#eccdcd"},attrs:{model:e.node,val:"rx"}})],1),e._v(" "),n("input-number",{staticClass:"cell row-options",attrs:{node:e.node,"input-value":"qy"}},[n("input-number-checkbox",{staticStyle:{"background-color":"#c0e9c0"},attrs:{model:e.node,val:"ry"}})],1),e._v(" "),n("input-number",{staticClass:"cell row-options",attrs:{node:e.node,"input-value":"qz"}},[n("input-number-checkbox",{staticStyle:{"background-color":"#c0d6ec"},attrs:{model:e.node,val:"rz"}})],1)],1)])},staticRenderFns:[]};var k=n("VU/8")(F,D,!1,function(e){n("CgLR")},"data-v-fa7d2942",null).exports,R={name:"NodeCircle",props:["node","displacements","reactions","view"],computed:{dx:function(){return""===this.node.x?0:this.node.x*this.view.scale},dy:function(){return""===this.node.y?0:this.node.y*this.view.scale},x:function(){return this.view.x+this.dx},y:function(){return this.view.y-this.dy},fX:function(){return""===this.node.qx?0:this.node.qx},fY:function(){return""===this.node.qy?0:this.node.qy},mZ:function(){return""===this.node.qz?0:this.node.qz},f:function(){return h.a.sqrt(Math.pow(this.fX,2)+Math.pow(this.fY,2))},fRounded:function(){return this.f.toPrecision(this.view.significantFigures)},mZRounded:function(){return Math.abs(this.mZ.toPrecision(this.view.significantFigures))},rxRounded:function(){return this.roundSig(this.reactions[0])},ryRounded:function(){return this.roundSig(this.reactions[1])},rzRounded:function(){return this.roundSig(this.reactions[2])},dxRounded:function(){return this.roundSig(this.displacements[0])},dyRounded:function(){return this.roundSig(this.displacements[1])},dzRounded:function(){return this.roundSig(this.displacements[2])},reactionXTriangle:function(){return this.x-6+","+this.y+" "+(this.x-11)+","+(this.y-4)+" "+(this.x-11)+","+(this.y+4)},reactionYTriangle:function(){return this.x+","+(this.y+6)+" "+(this.x+4)+","+(this.y+11)+" "+(this.x-4)+","+(this.y+11)},reactionZTriangle:function(){return this.x-4+","+(this.y+4)+" "+(this.x-10.3)+","+(this.y+4.7)+" "+(this.x-4.7)+","+(this.y+10.3)},forcePathDefinition:function(){return 0===this.f?"":"M"+(this.x-50*this.fX/this.f)+","+(this.y+50*this.fY/this.f)+"L"+(this.x-10*this.fX/this.f)+","+(this.y+10*this.fY/this.f)},momentPathDefinition:function(){return 0===this.mZ?"":"M"+(this.x-7.5)+","+(this.y+13*h.a.sign(this.mZ))+"A 15 15 0 1 "+(h.a.sign(this.mZ)-1)/-2+(this.x-7.5)+","+(this.y-13*h.a.sign(this.mZ))},forceTextX:function(){return 0===this.f?0:this.x-55*this.fX/this.f},forceTextY:function(){return 0===this.f?0:this.y+55*this.fY/this.f}},methods:{roundSig:function(e){return h.a.equal(e,0)?0:e.toPrecision(this.view.significantFigures)}}},M={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("svg",[n("defs",[n("marker",{attrs:{id:"head",orient:"auto",markerWidth:"6",markerHeight:"6",refX:"2.5",refY:"3"}},[n("path",{staticClass:"load-arrow",attrs:{d:"M1,1 L3,3 L1,5"}})])]),e._v(" "),n("circle",{staticClass:"circle-node",attrs:{cx:e.x,cy:e.y,r:e.node.active?4:2}}),e._v(" "),n("circle",{directives:[{name:"show",rawName:"v-show",value:e.view.nodeLabels,expression:"view.nodeLabels"}],staticClass:"circle-node",attrs:{cx:e.x,cy:e.y,r:e.node.active?7:5}}),e._v(" "),n("text",{directives:[{name:"show",rawName:"v-show",value:e.view.nodeLabels,expression:"view.nodeLabels"}],staticClass:"node-label",staticStyle:{"stroke-width":"2px",stroke:"black"},attrs:{x:e.x,y:e.y+3.5}},[e._v(e._s(e.node.n))]),e._v(" "),n("text",{directives:[{name:"show",rawName:"v-show",value:e.view.nodeLabels,expression:"view.nodeLabels"}],staticClass:"node-label",attrs:{x:e.x,y:e.y+3.5}},[e._v(e._s(e.node.n))]),e._v(" "),n("path",{directives:[{name:"show",rawName:"v-show",value:e.view.appliedForces&&0!==e.f,expression:"view.appliedForces && f !== 0"}],staticClass:"path-force",attrs:{d:e.forcePathDefinition}}),e._v(" "),n("text",{directives:[{name:"show",rawName:"v-show",value:e.view.appliedForces&&0!==e.f,expression:"view.appliedForces && f !== 0"}],staticClass:"load-text",attrs:{x:e.forceTextX,y:e.forceTextY}},[e._v(e._s(e.fRounded))]),e._v(" "),n("path",{directives:[{name:"show",rawName:"v-show",value:e.view.appliedForces&&0!==e.mZ,expression:"view.appliedForces && mZ !== 0"}],staticClass:"path-force",attrs:{d:e.momentPathDefinition}}),e._v(" "),n("text",{directives:[{name:"show",rawName:"v-show",value:e.view.appliedForces&&0!==e.mZ,expression:"view.appliedForces && mZ !== 0"}],staticClass:"load-text",attrs:{x:e.x+13,y:e.y-13}},[e._v(e._s(e.mZRounded))]),e._v(" "),n("polygon",{directives:[{name:"show",rawName:"v-show",value:e.node.rx&&e.view.supports,expression:"node.rx && view.supports"}],staticClass:"support fx",attrs:{points:e.reactionXTriangle}}),e._v(" "),n("text",{directives:[{name:"show",rawName:"v-show",value:e.view.reactions&&e.node.rx,expression:"view.reactions && node.rx"}],staticClass:"fx",attrs:{x:e.x-20,y:e.y+3}},[e._v(e._s(e.rxRounded))]),e._v(" "),n("text",{directives:[{name:"show",rawName:"v-show",value:e.view.displacements,expression:"view.displacements"}],staticClass:"fx",attrs:{x:e.x-20,y:e.y+3}},[e._v(e._s(e.dxRounded))]),e._v(" "),n("polygon",{directives:[{name:"show",rawName:"v-show",value:e.node.ry&&e.view.supports,expression:"node.ry && view.supports"}],staticClass:"support fy",attrs:{points:e.reactionYTriangle}}),e._v(" "),n("text",{directives:[{name:"show",rawName:"v-show",value:e.view.reactions&&e.node.ry,expression:"view.reactions && node.ry"}],staticClass:"fy",attrs:{x:e.x-5,y:e.y+25}},[e._v(e._s(e.ryRounded))]),e._v(" "),n("text",{directives:[{name:"show",rawName:"v-show",value:e.view.displacements,expression:"view.displacements"}],staticClass:"fy",attrs:{x:e.x-5,y:e.y+25}},[e._v(e._s(e.dyRounded))]),e._v(" "),n("polygon",{directives:[{name:"show",rawName:"v-show",value:e.node.rz&&e.view.supports,expression:"node.rz && view.supports"}],staticClass:"support mz",attrs:{points:e.reactionZTriangle}}),e._v(" "),n("text",{directives:[{name:"show",rawName:"v-show",value:e.view.reactions&&e.node.rz,expression:"view.reactions && node.rz"}],staticClass:"mz",attrs:{x:e.x-20,y:e.y+25}},[e._v(e._s(e.rzRounded))]),e._v(" "),n("text",{directives:[{name:"show",rawName:"v-show",value:e.view.displacements,expression:"view.displacements"}],staticClass:"mz",attrs:{x:e.x-20,y:e.y+25}},[e._v(e._s(e.dzRounded))])])},staticRenderFns:[]};var O=n("VU/8")(R,M,!1,function(e){n("lldL")},"data-v-7e932a9f",null).exports,$={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"table-dark row-submission"},[n("select",{directives:[{name:"model",rawName:"v-model",value:e.newStart,expression:"newStart"}],staticClass:"cell cell-input form-control form-control-sm",staticStyle:{"grid-column":"2 / 5"},attrs:{placeholder:"#"},on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.newStart=t.target.multiple?n:n[0]}}},[n("option",{attrs:{selected:"",disabled:"",hidden:"",value:""}},[e._v("N1")]),e._v(" "),e._l(e.nodes,function(t){return n("option",{key:t.id,domProps:{value:t}},[e._v(e._s(t.n))])})],2),e._v(" "),n("select",{directives:[{name:"model",rawName:"v-model",value:e.newEnd,expression:"newEnd"}],staticClass:"cell cell-input form-control form-control-sm",on:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.submitElement(t):null},change:function(t){var n=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.newEnd=t.target.multiple?n:n[0]}}},[n("option",{attrs:{selected:"",disabled:"",hidden:"",value:""}},[e._v("N2")]),e._v(" "),e._l(e.nodes,function(t){return n("option",{key:t.id,domProps:{value:t}},[e._v(e._s(t.n))])})],2),e._v(" "),n("div",{staticClass:"cell-button"},[n("button",{staticClass:"btn btn-outline-success submit",attrs:{type:"button"},on:{click:e.submitElement}},[n("i",{staticClass:"icon-add"})])])])},staticRenderFns:[]};var Y=n("VU/8")({name:"ElementRowAdd",props:["elements","nodes"],data:function(){return{newStart:"",newEnd:""}},methods:{submitElement:function(){this.$emit("submit",{start:this.newStart,end:this.newEnd}),this.newStart="",this.newEnd=""}}},$,!1,function(e){n("kd9U")},"data-v-3b02df7b",null).exports,X={name:"ElementRow",components:{InputNumber:E},props:["element","nodes"],data:function(){return{showOptions:!1}},computed:{optionsArrow:function(){return this.showOptions?"▲":"▼"},dX:function(){return this.element.end.x-this.element.start.x},dY:function(){return this.element.end.y-this.element.start.y},length:function(){return math.sqrt(Math.pow(this.dX,2)+Math.pow(this.dY,2))}}},P={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("li",{staticClass:"list-item",on:{mouseenter:function(t){e.element.active=!0},mouseleave:function(t){e.element.active=!1}}},[n("div",{staticClass:"elem-row"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.element.n,expression:"element.n"}],staticClass:"cell-input form-control form-control-sm form-control-plaintext",attrs:{type:"text"},domProps:{value:e.element.n},on:{input:function(t){t.target.composing||e.$set(e.element,"n",t.target.value)}}}),e._v(" "),n("select",{directives:[{name:"model",rawName:"v-model",value:e.element.start,expression:"element.start"}],staticClass:"cell cell-input form-control form-control-sm",on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.$set(e.element,"start",t.target.multiple?n:n[0])}}},e._l(e.nodes,function(t){return n("option",{key:t.id,domProps:{value:t}},[e._v(e._s(t.n))])})),e._v(" "),n("select",{directives:[{name:"model",rawName:"v-model",value:e.element.end,expression:"element.end"}],staticClass:"cell cell-input form-control form-control-sm",on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.$set(e.element,"end",t.target.multiple?n:n[0])}}},e._l(e.nodes,function(t){return n("option",{key:t.id,domProps:{value:t}},[e._v(e._s(t.n))])})),e._v(" "),n("div",{staticClass:"cell-button"},[n("button",{staticClass:"btn btn-outline-secondary options",attrs:{type:"button"},on:{click:function(t){e.showOptions=!e.showOptions}}},[n("i",{class:{"icon-expand-more":!e.showOptions,"icon-expand-less":e.showOptions}})]),e._v(" "),n("button",{staticClass:"btn btn-outline-danger delete",attrs:{type:"button"},on:{click:function(t){e.$emit("remove")}}},[n("i",{staticClass:"icon-close"})])])]),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:e.showOptions,expression:"showOptions"}],staticClass:"elem-row"},[n("input-number",{staticClass:"cell row-options",attrs:{title:"elastic modulus, E",node:e.element,"input-value":"e"}},[n("div",{staticClass:"input-group-text"},[e._v("E")])]),e._v(" "),n("input-number",{staticClass:"cell row-options",attrs:{title:"area, A",node:e.element,"input-value":"a"}},[n("div",{staticClass:"input-group-text"},[e._v("A")])]),e._v(" "),n("input-number",{staticClass:"cell row-options",attrs:{title:"moment of inertia, I_z",node:e.element,"input-value":"iz"}},[n("div",{staticClass:"input-group-text"},[e._v("I"),n("sub",[e._v("z")])])]),e._v(" "),n("input-number",{staticClass:"cell row-options",attrs:{title:"area, A",node:e.element,"input-value":"w",step:.1}},[n("div",{staticClass:"input-group-text"},[e._v("w")])]),e._v(" "),n("div",{staticClass:"cell form-check form-check-inline row-options",staticStyle:{"justify-content":"flex-start"}},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.element.startRigid,expression:"element.startRigid"}],staticClass:"form-check-input",attrs:{title:"rigid start connection",type:"checkbox"},domProps:{checked:Array.isArray(e.element.startRigid)?e._i(e.element.startRigid,null)>-1:e.element.startRigid},on:{change:function(t){var n=e.element.startRigid,s=t.target,i=!!s.checked;if(Array.isArray(n)){var a=e._i(n,null);s.checked?a<0&&e.$set(e.element,"startRigid",n.concat([null])):a>-1&&e.$set(e.element,"startRigid",n.slice(0,a).concat(n.slice(a+1)))}else e.$set(e.element,"startRigid",i)}}}),e._v(" "),n("label",{staticClass:"form-check-label",attrs:{title:"rigid start connection"}},[e._v("Rigid start")])]),e._v(" "),n("div",{staticClass:"cell form-check form-check-inline row-options",staticStyle:{"justify-content":"flex-start"}},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.element.endRigid,expression:"element.endRigid"}],staticClass:"form-check-input",attrs:{title:"rigid end connection",type:"checkbox"},domProps:{checked:Array.isArray(e.element.endRigid)?e._i(e.element.endRigid,null)>-1:e.element.endRigid},on:{change:function(t){var n=e.element.endRigid,s=t.target,i=!!s.checked;if(Array.isArray(n)){var a=e._i(n,null);s.checked?a<0&&e.$set(e.element,"endRigid",n.concat([null])):a>-1&&e.$set(e.element,"endRigid",n.slice(0,a).concat(n.slice(a+1)))}else e.$set(e.element,"endRigid",i)}}}),e._v(" "),n("label",{staticClass:"form-check-label",attrs:{title:"rigid end connection"}},[e._v("Rigid end")])])],1)])},staticRenderFns:[]};var L=n("VU/8")(X,P,!1,function(e){n("ZKAs")},"data-v-2528edaf",null).exports,A={name:"ElementPath",props:["element","end-forces","element-force","displacements","view","moment-scale","shear-scale","transform","is-active"],data:function(){return{showStartMoment:!1,showEndMoment:!1,showStartShear:!1,showEndShear:!1}},computed:{displacementsLocal:function(){return h.a.multiply(this.displacements,h.a.inv(this.transform))},l:function(){return Math.sqrt(Math.pow(this.element.end.x-this.element.start.x,2)+Math.pow(this.element.end.y-this.element.start.y,2))},lDisplaced:function(){return this.l-h.a.number(this.displacementsLocal[0])+h.a.number(this.displacementsLocal[3])},xStart:function(){return this.view.x+this.view.scale*this.element.start.x},yStart:function(){return this.view.y-this.view.scale*this.element.start.y},xEnd:function(){return this.view.x+this.view.scale*this.element.end.x},yEnd:function(){return this.view.y-this.view.scale*this.element.end.y},xMid:function(){return(this.xStart+this.xEnd)/2},yMid:function(){return(this.yStart+this.yEnd)/2},xPerp:function(){return(-this.yStart+this.yEnd)/(this.l*this.view.scale)},yPerp:function(){return(-this.xEnd+this.xStart)/(this.l*this.view.scale)},elementPathDefinition:function(){return"M"+this.xStart+","+this.yStart+"L"+this.xEnd+","+this.yEnd},wPathDefinition:function(){var e="m"+12*this.xPerp*a()(-this.element.w)+","+12*this.yPerp*a()(-this.element.w)+"l"+(this.xEnd-this.xStart)/3*a()(-this.element.w)+","+(this.yEnd-this.yStart)/3*a()(-this.element.w)+"l"+(this.xEnd-this.xStart)/3*a()(-this.element.w)+","+(this.yEnd-this.yStart)/3*a()(-this.element.w)+"l"+(this.xEnd-this.xStart)/3*a()(-this.element.w)+","+(this.yEnd-this.yStart)/3*a()(-this.element.w);return a()(this.element.w)<0?"M"+this.xStart+","+this.yStart+e:"M"+this.xEnd+","+this.yEnd+e},shearDiagramStartX:function(){var e=this.xStart-this.endForces[1]*this.shearScale*this.view.diagramScale*this.xPerp;return isNaN(e)?0:e},shearDiagramStartY:function(){var e=this.yStart-this.endForces[1]*this.shearScale*this.view.diagramScale*this.yPerp;return isNaN(e)?0:e},shearDiagramEndX:function(){var e=this.xEnd+this.endForces[4]*this.shearScale*this.view.diagramScale*this.xPerp;return isNaN(e)?0:e},shearDiagramEndY:function(){var e=this.yEnd+this.endForces[4]*this.shearScale*this.view.diagramScale*this.yPerp;return isNaN(e)?0:e},shearDiagram:function(){return"M"+this.shearDiagramStartX+","+this.shearDiagramStartY+"L"+this.shearDiagramEndX+","+this.shearDiagramEndY},momentDiagramStartX:function(){var e=this.xStart-this.endForces[2]*this.momentScale*this.view.diagramScale*this.xPerp;return isNaN(e)?0:e},momentDiagramStartY:function(){var e=this.yStart-this.endForces[2]*this.momentScale*this.view.diagramScale*this.yPerp;return isNaN(e)?0:e},momentDiagramEndX:function(){var e=this.xEnd+(.5*this.element.w*this.l*this.l+this.endForces[1]*this.l-this.endForces[2])*this.momentScale*this.view.diagramScale*this.xPerp;return isNaN(e)?0:e},momentDiagramEndY:function(){var e=this.yEnd+(.5*this.element.w*this.l*this.l+this.endForces[1]*this.l-this.endForces[2])*this.momentScale*this.view.diagramScale*this.yPerp;return isNaN(e)?0:e},momentDiagram:function(){return"M"+this.momentDiagramStartX+","+this.momentDiagramStartY+"Q"+(this.xMid+(.5*this.endForces[1]*this.l-this.endForces[2])*this.momentScale*this.view.diagramScale*this.xPerp)+","+(this.yMid+(.5*this.endForces[1]*this.l-this.endForces[2])*this.momentScale*this.view.diagramScale*this.yPerp)+" "+this.momentDiagramEndX+","+this.momentDiagramEndY},forceRounded:function(){return h.a.equal(this.elementForce,0)?0:this.elementForce.toPrecision(this.view.significantFigures)},wRounded:function(){return h.a.equal(this.element.w,0)?0:this.element.w.toPrecision(this.view.significantFigures)},shearStartRounded:function(){return h.a.equal(this.endForces[1],0)?0:(-this.endForces[1]).toPrecision(this.view.significantFigures)},shearEndRounded:function(){return h.a.equal(this.endForces[4],0)?0:this.endForces[4].toPrecision(this.view.significantFigures)},momentStartRounded:function(){return h.a.equal(this.endForces[2],0)?0:(-this.endForces[2]).toPrecision(this.view.significantFigures)},momentEndRounded:function(){return h.a.equal(this.endForces[5],0)?0:this.endForces[5].toPrecision(this.view.significantFigures)},xStartOffset:function(){return this.xStart+.125*(this.xEnd-this.xStart)},yStartOffset:function(){return this.yStart+.125*(this.yEnd-this.yStart)},xEndOffset:function(){return this.xStart+.875*(this.xEnd-this.xStart)},yEndOffset:function(){return this.yStart+.875*(this.yEnd-this.yStart)},topRotate:function(){return this.element.start.x<this.element.end.x?0:180},transformList:function(){return"rotate("+this.topRotate+" "+this.xMid+" "+this.yMid+")"}},methods:{}},z={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("svg",[n("defs",[n("marker",{attrs:{id:"arrow",orient:"auto",markerWidth:"6",markerHeight:"20",refX:"3",refY:"0"}},[n("path",{staticClass:"load-arrow",attrs:{d:"M3,0 L3,10","marker-end":"url(#head)"}})])]),e._v(" "),n("path",{class:e.element.active?"path-element-active":"path-element",attrs:{id:"path"+e.element.id,d:e.elementPathDefinition}}),e._v(" "),n("path",{directives:[{name:"show",rawName:"v-show",value:0!==e.element.w&&e.view.elementLoads,expression:"element.w !== 0 && view.elementLoads"}],staticClass:"path-element-load",attrs:{id:"pathw"+e.element.id,d:e.wPathDefinition}}),e._v(" "),n("path",{directives:[{name:"show",rawName:"v-show",value:e.view.momentDiagrams,expression:"view.momentDiagrams"}],staticClass:"path-moment-diagram",attrs:{d:e.momentDiagram}}),e._v(" "),n("path",{directives:[{name:"show",rawName:"v-show",value:e.view.shearDiagrams,expression:"view.shearDiagrams"}],staticClass:"path-moment-diagram",attrs:{d:e.shearDiagram}}),e._v(" "),n("circle",{directives:[{name:"show",rawName:"v-show",value:!e.element.startRigid,expression:"!element.startRigid"}],staticClass:"circle-release",attrs:{cx:e.xStartOffset,cy:e.yStartOffset,r:"2"}}),e._v(" "),n("circle",{directives:[{name:"show",rawName:"v-show",value:!e.element.endRigid,expression:"!element.endRigid"}],staticClass:"circle-release",attrs:{cx:e.xEndOffset,cy:e.yEndOffset,r:"2"}}),e._v(" "),n("text",{directives:[{name:"show",rawName:"v-show",value:e.view.elementForces,expression:"view.elementForces"}],staticClass:"select-all",attrs:{transform:e.transformList}},[n("textPath",{attrs:{href:"#path"+e.element.id,startOffset:"50%","text-anchor":"middle"}},[n("tspan",{attrs:{dy:"-.25em"}},[e._v(e._s(e.forceRounded))])])]),e._v(" "),n("text",{directives:[{name:"show",rawName:"v-show",value:0!==e.element.w&&e.view.elementLoads,expression:"element.w !== 0 && view.elementLoads"}],staticClass:"select-all"},[n("textPath",{attrs:{href:"#pathw"+e.element.id,startOffset:"50%","text-anchor":"middle"}},[n("tspan",{staticClass:"load-text",attrs:{dy:"-0.25em"}},[e._v(e._s(Math.abs(e.wRounded)))])])]),e._v(" "),n("circle",{directives:[{name:"show",rawName:"v-show",value:e.view.momentDiagrams,expression:"view.momentDiagrams"}],staticClass:"circle-diagram",attrs:{cx:e.momentDiagramStartX,cy:e.momentDiagramStartY,r:e.showStartMoment?8:4},on:{mouseenter:function(t){e.showStartMoment=!0},mouseleave:function(t){e.showStartMoment=!1}}}),e._v(" "),n("circle",{directives:[{name:"show",rawName:"v-show",value:e.view.momentDiagrams,expression:"view.momentDiagrams"}],staticClass:"circle-diagram",attrs:{cx:e.momentDiagramEndX,cy:e.momentDiagramEndY,r:e.showEndMoment?8:4},on:{mouseenter:function(t){e.showEndMoment=!0},mouseleave:function(t){e.showEndMoment=!1}}}),e._v(" "),n("text",{directives:[{name:"show",rawName:"v-show",value:e.view.momentDiagrams&&(e.view.diagramValues||e.showStartMoment),expression:"view.momentDiagrams && (view.diagramValues || showStartMoment)"}],attrs:{x:e.momentDiagramStartX,y:e.momentDiagramStartY,dx:"4",dy:"-8"}},[e._v(e._s(e.momentStartRounded)+"\n\t\t")]),e._v(" "),n("text",{directives:[{name:"show",rawName:"v-show",value:e.view.momentDiagrams&&(e.view.diagramValues||e.showEndMoment),expression:"view.momentDiagrams && (view.diagramValues || showEndMoment)"}],attrs:{x:e.momentDiagramEndX,y:e.momentDiagramEndY,dx:"4",dy:"-8"}},[e._v(e._s(e.momentEndRounded)+"\n\t\t")]),e._v(" "),n("circle",{directives:[{name:"show",rawName:"v-show",value:e.view.shearDiagrams,expression:"view.shearDiagrams"}],staticClass:"circle-diagram",attrs:{cx:e.shearDiagramStartX,cy:e.shearDiagramStartY,r:e.showStartShear?8:4},on:{mouseenter:function(t){e.showStartShear=!0},mouseleave:function(t){e.showStartShear=!1}}}),e._v(" "),n("circle",{directives:[{name:"show",rawName:"v-show",value:e.view.shearDiagrams,expression:"view.shearDiagrams"}],staticClass:"circle-diagram",attrs:{cx:e.shearDiagramEndX,cy:e.shearDiagramEndY,r:e.showEndShear?8:4},on:{mouseenter:function(t){e.showEndShear=!0},mouseleave:function(t){e.showEndShear=!1}}}),e._v(" "),n("text",{directives:[{name:"show",rawName:"v-show",value:e.view.shearDiagrams&&(e.view.diagramValues||e.showStartShear),expression:"view.shearDiagrams && (view.diagramValues || showStartShear)"}],attrs:{x:e.shearDiagramStartX,y:e.shearDiagramStartY,dx:"4",dy:"-8"}},[e._v(e._s(e.shearStartRounded)+"\n\t\t")]),e._v(" "),n("text",{directives:[{name:"show",rawName:"v-show",value:e.view.shearDiagrams&&(e.view.diagramValues||e.showEndShear),expression:"view.shearDiagrams && (view.diagramValues || showEndShear)"}],attrs:{x:e.shearDiagramEndX,y:e.shearDiagramEndY,dx:"4",dy:"-8"}},[e._v(e._s(e.shearEndRounded)+"\n\t\t")])])},staticRenderFns:[]};var q={name:"App",components:{CanvasSettings:g,NodeCircle:O,ElementPath:n("VU/8")(A,z,!1,function(e){n("O6F+")},"data-v-1823bec4",null).exports,TableArray:x,NodeRowAdd:b,NodeRow:k,ElementRowAdd:Y,ElementRow:L},data:function(){return{nodes:[],elements:[],nextUniqueId:1,nextElementId:-1,config:{appliedForces:!0,axes:!0,significantFigures:3,display:!1,diagramScale:1,displacedShapeDiagrams:!1,elementForces:!0,elementLoads:!0,momentDiagrams:!1,diagramValues:!1,nodeLabels:!0,x:256,y:200,reactions:!0,scale:3,scaleMin:.01,scaleMax:20,shearDiagrams:!1,supports:!0,canvasW:512,canvasH:472,loadValue:"",saveValue:""},scroll:0,captureToggle:!1,panX:0,panY:0,prevDiff:-1,midX:0,midY:0,t0:0}},computed:{nDOF:function(){return 3*this.nodes.length},concentratedLoads:function(){return this.nodes.map(function(e){return[e.qx,e.qy,e.qz]})},distributedLoads:function(){return this.elements.map(function(e){return[e.w]})},fixity:function(){return this.nodes.map(function(e){return[e.rx?0:NaN,e.ry?0:NaN,e.rz?0:NaN]})},fixityReshaped:function(){return 0===this.fixity.length?[]:h.a.reshape(this.fixity,[1,3*this.nodes.length])[0]},materialProps:function(){return this.elements.map(function(e){return[e.e,e.a,e.iz]})},degF:function(){return this.fixityReshaped.map(function(e,t){return isNaN(e)?t:NaN}).filter(function(e){return!isNaN(e)})},degS:function(){return this.fixityReshaped.map(function(e,t){return 0==e?t:NaN}).filter(function(e){return!isNaN(e)})},nodeDOF:function(){return this.nodes.map(function(e,t){return[3*t,3*t+1,3*t+2]})},elementEnds:function(){var e=this;return this.elements.map(function(t){return[e.nodes.indexOf(t.start),e.nodes.indexOf(t.end),t.startRigid,t.endRigid]})},elementDOF:function(){var e=this;return this.elementEnds.map(function(t){return e.nodeDOF[t[0]].concat(e.nodeDOF[t[1]])})},elementTransformations:function(){var e=this;return this.elements.map(function(t){return e.getElementTransform(t)})},elementStiffnessMatricesLocal:function(){var e=this;return this.elements.map(function(t){return e.getElementKLocal(t)})},elementStiffnessMatrices:function(){var e=this;return this.elements.map(function(t){return e.getElementKGlobal(t)})},elementFixedEndForcesLocal:function(){var e=this;return this.elements.map(function(t){return e.computeElementFixedEndForces(t)})},elementFixedEndForcesGlobal:function(){var e=this;return this.elementFixedEndForcesLocal.map(function(t,n){return h.a.multiply(h.a.transpose(e.elementTransformations[n]),t)})},pF:function(){return h.a.subset(h.a.reshape(this.concentratedLoads,[3*this.nodes.length,1]),h.a.index(this.degF,0))},pS:function(){return h.a.subset(h.a.reshape(this.concentratedLoads,[3*this.nodes.length,1]),h.a.index(this.degS,0))},fef:function(){var e=this;return this.elementFixedEndForcesGlobal.reduce(function(t,n,s){return h.a.subset(t,h.a.index(e.elementDOF[s],0),h.a.add(h.a.subset(t,h.a.index(e.elementDOF[s],0)),n))},h.a.zeros(this.nDOF,1))},fefF:function(){return h.a.subset(this.fef,h.a.index(this.degF,0))},fefS:function(){return h.a.subset(this.fef,h.a.index(this.degS,0))},kAssembled:function(){var e=this;return 0===this.elementDOF.length?[]:h.a.matrix(this.elementStiffnessMatrices.reduce(function(t,n,s){return h.a.subset(t,h.a.index(e.elementDOF[s],e.elementDOF[s]),h.a.add(h.a.subset(t,h.a.index(e.elementDOF[s],e.elementDOF[s])),n))},h.a.zeros(this.nDOF,this.nDOF)),"sparse")},kFF:function(){return 0===this.kAssembled.length||0===this.degF.length?[]:h.a.subset(this.kAssembled,h.a.index(this.degF,this.degF))},kSF:function(){return 0===this.kAssembled.length||0===this.degF.length?[]:h.a.subset(this.kAssembled,h.a.index(this.degS,this.degF))},condEst:function(){return h.a.log10(this.estimateCondition(this.kFF))},isUnstable:function(){return this.condEst>12||isNaN(this.condEst)||this.condEst<0},dF:function(){return this.isUnstable?null:h.a.lusolve(this.kFF,h.a.subtract(this.pF,this.fefF))},d:function(){return this.isUnstable?null:h.a.subset(h.a.zeros(this.nDOF,1),h.a.index(this.degF,0),h.a.matrix(this.dF))},fS:function(){return this.isUnstable?null:h.a.add(h.a.multiply(this.kSF,this.dF),h.a.subtract(this.fefS,this.pS))},f:function(){return this.isUnstable?null:h.a.subset(h.a.zeros(this.nDOF,1),h.a.index(this.degS,0),this.fS)},displacements:function(){return this.isUnstable?this.nodes.map(function(e){return[NaN,NaN,NaN]}):h.a.reshape(this.d,[this.nodes.length,3])._data},reactions:function(){return this.isUnstable?this.nodes.map(function(e){return[NaN,NaN,NaN]}):h.a.reshape(this.f,[this.nodes.length,3])._data},elementForces:function(){var e=this;return this.isUnstable?this.elements.map(function(e){return[NaN,NaN,NaN,NaN,NaN,NaN]}):this.elementStiffnessMatricesLocal.map(function(t,n){return h.a.transpose(h.a.add(h.a.multiply(t,e.elementTransformations[n],h.a.subset(e.d,h.a.index(e.elementDOF[n],0))),e.elementFixedEndForcesLocal[n]))._data[0]})},elementAxials:function(){return this.elementForces.map(function(e){return e[3]})},elementDisplacements:function(){var e=this;return this.elementEnds.map(function(t,n){return e.displacements[t[0]].concat(e.displacements[t[1]])})},axesDef:function(){return"M0,"+this.config.y+"L1920,"+this.config.y+"M"+this.config.x+",0L"+this.config.x+",1080"},elementMaxMoment:function(){for(var e=0,t=h.a.number(this.elementForces),n=0;n<this.elements.length;n++)if(h.a.larger(h.a.abs(t[n][2]),e)&&(e=h.a.abs(t[n][2])),h.a.larger(h.a.abs(t[n][5]),e)&&(e=h.a.abs(t[n][5])),0!==this.elements[n].w){var s=h.a.abs(h.a.pow(h.a.number(t[n][1]),2)/(2*this.elements[n].w)-t[n][2]);h.a.larger(s,e)&&(e=s)}return e},elementMaxShear:function(){for(var e=0,t=h.a.number(this.elementForces),n=0;n<this.elements.length;n++)h.a.larger(h.a.abs(t[n][1]),e)&&(e=h.a.abs(t[n][1])),h.a.larger(h.a.abs(t[n][4]),e)&&(e=h.a.abs(t[n][4]));return e},momentDiagramAutoScale:function(){return 0===this.elementMaxMoment?1:45/this.elementMaxMoment},shearDiagramAutoScale:function(){return 0===this.elementMaxShear?1:45/this.elementMaxShear}},created:function(){this.loadStructure('{"nodes":[{"n":1,"x":0,"y":0,"qx":0,"qy":0,"qz":0,"rx":true,"ry":true,"rz":false},{"n":2,"x":500,"y":0,"qx":0,"qy":-10,"qz":0,"rx":false,"ry":false,"rz":false},{"n":3,"x":1000,"y":0,"qx":0,"qy":0,"qz":0,"rx":false,"ry":true,"rz":false}],"elements":[{"n":1,"startIndex":0,"endIndex":1,"e":10000,"a":10,"iz":10,"w":0,"startRigid":true,"endRigid":true},{"n":2,"startIndex":1,"endIndex":2,"e":10000,"a":10,"iz":10,"w":0,"startRigid":true,"endRigid":true}]}'),this.config.scale=.35},mounted:function(){this.config.canvasW=this.getCanvasWidth(),this.config.canvasH=this.getCanvasHeight(),this.config.x=this.config.canvasW/2,this.config.y=this.config.canvasH/2},methods:{getElementLength:function(e){var t=e.end.x-e.start.x,n=e.end.y-e.start.y;return h.a.sqrt(Math.pow(t,2)+Math.pow(n,2))},getElementTransform:function(e){var t=h.a.number(e.end.x-e.start.x),n=h.a.number(e.end.y-e.start.y),s=h.a.sqrt(h.a.add(h.a.pow(t,2),h.a.pow(n,2))),i=h.a.divide(t,s),a=h.a.divide(n,s);return[[i,a,0,0,0,0],[h.a.unaryMinus(a),i,0,0,0,0],[0,0,1,0,0,0],[0,0,0,i,a,0],[0,0,0,h.a.unaryMinus(a),i,0],[0,0,0,0,0,1]]},getElementKLocal:function(e){var t=this.getElementLength(e),n=""===e.e?h.a.number(0):h.a.number(e.e),s=""===e.a?h.a.number(0):h.a.number(e.a),i=""===e.iz?h.a.number(0):h.a.number(e.iz),a=h.a.multiply(t,t),r=h.a.divide(h.a.multiply(12,i),a),o=h.a.divide(h.a.multiply(6,i),t),c=h.a.multiply(2,i),l=h.a.multiply(4,i),u=h.a.divide(h.a.multiply(3,i),a),d=h.a.divide(h.a.multiply(3,i),t),m=h.a.multiply(3,i),f=void 0;return f=e.startRigid||e.endRigid?e.startRigid&&!e.endRigid?[[s,0,0,h.a.unaryMinus(s),0,0],[0,u,d,0,h.a.unaryMinus(u),0],[0,d,m,0,h.a.unaryMinus(d),0],[h.a.unaryMinus(s),0,0,s,0,0],[0,h.a.unaryMinus(u),h.a.unaryMinus(d),0,u,0],[0,0,0,0,0,0]]:!e.startRigid&&e.endRigid?[[s,0,0,h.a.unaryMinus(s),0,0],[0,u,0,0,h.a.unaryMinus(u),d],[0,0,0,0,0,0],[h.a.unaryMinus(s),0,0,s,0,0],[0,h.a.unaryMinus(u),0,0,u,h.a.unaryMinus(d)],[0,d,0,0,h.a.unaryMinus(d),m]]:[[s,0,0,h.a.unaryMinus(s),0,0],[0,r,o,0,h.a.unaryMinus(r),o],[0,o,l,0,h.a.unaryMinus(o),c],[h.a.unaryMinus(s),0,0,s,0,0],[0,h.a.unaryMinus(r),h.a.unaryMinus(o),0,r,h.a.unaryMinus(o)],[0,o,c,0,h.a.unaryMinus(o),l]]:[[s,0,0,h.a.unaryMinus(s),0,0],[0,0,0,0,0,0],[0,0,0,0,0,0],[h.a.unaryMinus(s),0,0,s,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0]],h.a.multiply(f,h.a.divide(n,t))},getElementKGlobal:function(e){var t=this.getElementTransform(e);return h.a.multiply(h.a.transpose(t),this.getElementKLocal(e),t)},computeElementFixedEndForces:function(e){var t=e.w,n=this.getElementLength(e);return[[0],[-t*n/2],[-t*n*n/12],[0],[-t*n/2],[t*n*n/12]]},estimateCondition:function(e){var t=this,n=h.a.subset(h.a.size(e),h.a.index(0));if(n<1)return 1e20;var s=h.a.divide(h.a.ones(n,1),n),i=0,a=h.a.identity(n);if(h.a.abs(h.a.det(e))<1e-10||isNaN(h.a.det(e)))return NaN;for(var r=function(){var i=h.a.lusolve(e,s),r=h.a.lusolve(h.a.transpose(e),h.a.sign(i)),o=0,c=0;if(r.forEach(function(e,t,n){h.a.abs(e)>o&&(o=h.a.abs(e),c=t[0])}),o<=h.a.multiply(h.a.transpose(r),s)._data[0][0])return{v:h.a.multiply(h.a.sum(h.a.abs(i)),h.a.max(t.sumCols(h.a.abs(e))))};s=h.a.subset(a,h.a.index(h.a.range(0,n),c))._data};i++<20;){var o=r();if("object"===(void 0===o?"undefined":d()(o)))return o.v}return 1},sumRows:function(e){var t=h.a.zeros(e.size()[0],1);return e.forEach(function(e,n,s){t.subset(h.a.index(n[0],0),t.subset(h.a.index(n[0],0))+e)}),t},sumCols:function(e){var t=h.a.zeros(1,e.size()[1]);return e.forEach(function(e,n,s){t.subset(h.a.index(0,n[1]),t.subset(h.a.index(0,n[1]))+e)}),t},saveStructure:function(){for(var e={nodes:[],elements:[]},t=0;t<this.nodes.length;t++)e.nodes.push({n:this.nodes[t].n,x:this.nodes[t].x,y:this.nodes[t].y,qx:this.nodes[t].qx,qy:this.nodes[t].qy,qz:this.nodes[t].qz,rx:this.nodes[t].rx,ry:this.nodes[t].ry,rz:this.nodes[t].rz});for(var n=0;n<this.elements.length;n++)e.elements.push({n:this.elements[n].n,startIndex:this.nodes.indexOf(this.elements[n].start),endIndex:this.nodes.indexOf(this.elements[n].end),e:this.elements[n].e,a:this.elements[n].a,iz:this.elements[n].iz,w:this.elements[n].w,startRigid:this.elements[n].startRigid,endRigid:this.elements[n].endRigid});return l()(e)},loadStructure:function(e){if(!this.isJSON(e))return!1;var t=JSON.parse(e);if(void 0===t.nodes||void 0===t.elements)return!1;this.clearStructure();for(var n=0;n<t.nodes.length;n++)this.addNode(t.nodes[n]);for(var s=0;s<t.elements.length;s++){var i=t.elements[s];i=o()({start:this.nodes[i.startIndex],end:this.nodes[i.endIndex]},i),this.addElement(i)}return!0},clearStructure:function(){this.nodes=[],this.elements=[]},isJSON:function(e){if("string"!=typeof e)return!1;try{return JSON.parse(e),!0}catch(e){return!1}},addNode:function(e){e=o()({id:this.nextUniqueId++,n:this.nodes.length+1,x:0,y:0,qx:0,qy:0,qz:0,rx:!1,ry:!1,rz:!1,incElements:[],active:!1},e),this.nodes.push(e)},addElement:function(e){""!==e.start&&""!==e.end&&e.start!=e.end&&(e=o()({id:this.nextElementId--,n:this.elements.length+1,start:null,end:null,e:29e3,a:1,iz:1,w:0,startRigid:!0,endRigid:!0,active:!1},e),this.elements.push(e),e.start.incElements.push(e),e.end.incElements.push(e))},removeNodeByIndex:function(e,t,n){for(var s=0;s<t.length;s++)t[s].start.n!==e[n].n&&t[s].end.n!==e[n].n||(this.removeElementByIndex(t,s),s--);e.splice(n,1)},removeNodeOnly:function(e,t){e.splice(t,1)},removeElementIncidence:function(e){for(var t=e.start.incElements,n=e.end.incElements,s=0;s<t.length;s++)t[s]===e&&t.splice(s,1);for(var i=0;i<n.length;i++)n[i]===e&&n.splice(i,1)},removeElementByIndex:function(e,t){for(var n=e[t].start.incElements,s=e[t].end.incElements,i=0;i<n.length;i++)n[i]===e[t]&&n.splice(i,1);for(var a=0;a<s.length;a++)s[a]===e[t]&&s.splice(a,1);e.splice(t,1)},isStaticallyDeterminate:function(){return this.elements.length+this.nReactions===2*this.nodes.length},isSimple:function(){for(var e=_.cloneDeep(this.nodes),t=0;t<e.length;t++)2===e[t].incElements.length&&(this.removeElementIncidence(e[t].incElements[1]),this.removeElementIncidence(e[t].incElements[0]),this.removeNodeOnly(e,t),t=0);return 2===e.length&&1===e[0].incElements.length},containsTriangle:function(){for(var e=0;e<this.elements.length;e++)for(var t=this.elements[e].start,n=this.elements[e].end,s=0;s<this.nodes.length;s++){for(var i=this.nodes[s],a=!1,r=!1,o=0;o<i.incElements.length;o++){var c=i.incElements[o];(c.start===i&&c.end===t||c.start===t&&c.end===i)&&(a=!0),(c.start===i&&c.end==n||c.start===n&&c.end===i)&&(r=!0)}if(a&&r)return!0}return!1},getCanvasWidth:function(){return parseFloat(window.getComputedStyle(this.$refs.canvas).width)},getCanvasHeight:function(){return parseFloat(window.getComputedStyle(this.$refs.canvas).height)},panOn:function(e){window.getSelection().empty(),this.captureToggle=!0,this.panX=this.config.x-e.pageX,this.panY=this.config.y-e.pageY},panOnTouch:function(e){if(2===e.touches.length){e.preventDefault(),this.captureToggle=!0;var t=(e.touches[0].pageX+e.touches[1].pageX)/2,n=(e.touches[0].pageY+e.touches[1].pageY)/2;this.panX=this.config.x-t,this.panY=this.config.y-n,this.prevDiff=Math.sqrt(Math.pow(e.touches[0].clientX-e.touches[1].clientX,2)+Math.pow(e.touches[0].clientY-e.touches[1].clientY,2))}},panOff:function(e){this.captureToggle=!1},panOffTouch:function(e){e.preventDefault(),this.captureToggle=!1},panMove:function(e){this.captureToggle&&(this.config.x=e.x+this.panX,this.config.y=e.y+this.panY)},panMoveTouch:function(e){if(2===e.touches.length){e.preventDefault();var t=(e.touches[0].pageX+e.touches[1].pageX)/2,n=(e.touches[0].pageY+e.touches[1].pageY)/2,s=Math.sqrt(Math.pow(e.touches[0].clientX-e.touches[1].clientX,2)+Math.pow(e.touches[0].clientY-e.touches[1].clientY,2)),i=.02*(s-this.prevDiff)*this.config.scale;h.a.abs(s-this.prevDiff)>2&&this.config.scale+i>this.config.scaleMin&&this.config.scale+i<this.config.scaleMax&&(this.config.x=this.config.x-i/this.config.scale*(t-this.$refs.app.offsetLeft-this.config.x),this.config.y=this.config.y-i/this.config.scale*(n-this.$refs.app.offsetTop-this.config.y),this.panX=this.config.x-t,this.panY=this.config.y-n,this.config.scale=h.a.round(this.config.scale+i,3)),this.prevDiff=s,this.captureToggle&&(this.config.x=t+this.panX,this.config.y=n+this.panY)}},zoomCanvas:function(e){var t=-.1*a()(e.deltaY)*this.config.scale;this.config.scale+t>this.config.scaleMin&&this.config.scale+t<this.config.scaleMax&&(this.config.x=this.config.x-t/this.config.scale*(e.pageX-this.$refs.app.offsetLeft-this.config.x),this.config.y=this.config.y-t/this.config.scale*(e.pageY-this.$refs.app.offsetTop-this.config.y),this.config.scale=h.a.round(this.config.scale+t,3))},expandNodes:function(){this.$refs.nodeRow.map(function(e){return e.showOptions=!0})},collapseNodes:function(){this.$refs.nodeRow.map(function(e){return e.showOptions=!1})},expandElems:function(){this.$refs.elemRow.map(function(e){return e.showOptions=!0})},collapseElems:function(){this.$refs.elemRow.map(function(e){return e.showOptions=!1})}}},T={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{ref:"app",attrs:{id:"app"}},[n("div",{attrs:{id:"canvas-container"}},[n("svg",{ref:"canvas",staticClass:"select-none",attrs:{id:"canvas",draggable:"false"},on:{mousedown:function(t){return"button"in t||!e._k(t.keyCode,"left",37,t.key,["Left","ArrowLeft"])?"button"in t&&0!==t.button?null:void e.panOn(t):null},mousemove:function(t){return"button"in t||!e._k(t.keyCode,"left",37,t.key,["Left","ArrowLeft"])?"button"in t&&0!==t.button?null:void e.panMove(t):null},touchstart:function(t){e.panOnTouch(t)},touchmove:function(t){e.panMoveTouch(t)},wheel:function(t){t.preventDefault(),e.zoomCanvas(t)},mouseup:e.panOff,mouseleave:e.panOff,touchend:e.panOff,dragstart:function(e){e.preventDefault()}}},[n("rect",{attrs:{id:"rect-canvas",width:"100%",height:"100%"}}),e._v(" "),n("path",{directives:[{name:"show",rawName:"v-show",value:e.config.axes,expression:"config.axes"}],staticClass:"axes",attrs:{d:e.axesDef}}),e._v(" "),e._l(e.elements,function(t,s){return n("element-path",{key:t.id,attrs:{element:t,"element-force":e.elementAxials[s],"end-forces":e.elementForces[s],displacements:e.elementDisplacements[s],view:e.config,"moment-scale":e.momentDiagramAutoScale,"shear-scale":e.shearDiagramAutoScale,transform:e.elementTransformations[s]}})}),e._v(" "),e._l(e.nodes,function(t,s){return n("node-circle",{key:t.id,attrs:{node:t,displacements:e.displacements[s],reactions:e.reactions[s],view:e.config}})}),e._v(" "),n("text",{directives:[{name:"show",rawName:"v-show",value:e.isUnstable&&e.nodes.length>0,expression:"isUnstable && nodes.length > 0"}],attrs:{x:10,y:20,fill:"red"}},[e._v("unstable")])],2),e._v(" "),n("canvas-settings",{attrs:{id:"canvas-settings-container",config:e.config},on:{loaded:function(t){e.loadStructure(e.config.loadValue)},saved:function(t){e.config.saveValue=e.saveStructure()}}})],1),e._v(" "),n("table-array",{attrs:{id:"node-table",heading:"Nodes",array:e.nodes},on:{expand:e.expandNodes,collapse:e.collapseNodes}},[n("template",{slot:"header"},[n("node-row-add",{attrs:{nodes:e.nodes},on:{submit:e.addNode}})],1),e._v(" "),e._l(e.nodes,function(t,s){return n("node-row",{key:t.id,ref:"nodeRow",refInFor:!0,attrs:{node:t,nodes:e.nodes},on:{remove:function(t){e.removeNodeByIndex(e.nodes,e.elements,s)},mouseenter:function(e){t.active=!0},mouseexit:function(e){t.active=!1}}})})],2),e._v(" "),n("table-array",{attrs:{id:"element-table",heading:"Elements",array:e.elements},on:{expand:e.expandElems,collapse:e.collapseElems}},[n("template",{slot:"header"},[n("element-row-add",{attrs:{elements:e.elements,nodes:e.nodes},on:{submit:e.addElement}})],1),e._v(" "),e._l(e.elements,function(t,s){return n("element-row",{key:t.id,ref:"elemRow",refInFor:!0,attrs:{element:t,nodes:e.nodes},on:{remove:function(t){e.removeElementByIndex(e.elements,s)}}})})],2)],1)},staticRenderFns:[]};var V=n("VU/8")(q,T,!1,function(e){n("SRpE")},null,null).exports,U=n("/ocq"),I={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"hello"},[t("div",[this._v("Help")])])}]};var j=n("VU/8")({name:"Help",data:function(){return{msg:"Welcome to Your Vue.js App"}}},I,!1,function(e){n("4JYb")},"data-v-f10a6c50",null).exports;s.a.use(U.a);var Z=new U.a({mode:"history",routes:[{path:"/help",name:"Help",component:j}]});n("5myX");s.a.config.productionTip=!1;var H=new s.a({el:"#app",router:Z,components:{App:V},template:"<App/>"});window.vm=H.$children[0]},"O6F+":function(e,t){},SRpE:function(e,t){},ZKAs:function(e,t){},kd9U:function(e,t){},llE5:function(e,t){},lldL:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.6c39e9a96365bdf2913d.js.map